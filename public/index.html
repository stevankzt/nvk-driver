<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NVK-Driver</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="app">
        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ä–æ–ª–∏ -->
        <div id="role-selection" class="screen active">
            <div class="logo">
                <h1 class="neon-text">NVK-Driver</h1>
                <p class="subtitle">–°—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä</p>
            </div>
            <div class="role-buttons">
                <button class="role-btn driver-btn" onclick="selectRole('driver')">
                    <span class="icon">üöó</span>
                    <span class="text">–Ø –≤–æ–¥–∏—Ç–µ–ª—å</span>
                    <span class="description">–°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É</span>
                </button>
                <button class="role-btn passenger-btn" onclick="selectRole('passenger')">
                    <span class="icon">üë§</span>
                    <span class="text">–Ø –ø–∞—Å—Å–∞–∂–∏—Ä</span>
                    <span class="description">–ù–∞–π—Ç–∏ –ø–æ–µ–∑–¥–∫—É</span>
                </button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø–∞—Å—Å–∞–∂–∏—Ä–∞: —Å–ø–∏—Å–æ–∫ –ø–æ–µ–∑–¥–æ–∫ -->
        <div id="passenger-screen" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('role-selection')">‚Üê</button>
                <h2>–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏</h2>
                <button class="refresh-btn" onclick="loadRides()">‚Üª</button>
            </div>
            
            <div class="tabs-container">
                <button class="tab-btn active" onclick="showPassengerTab('available')">–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏</button>
                <button class="tab-btn" onclick="showPassengerTab('booked')">–ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</button>
            </div>

            <div id="available-rides-tab" class="tab-content active">
                <div class="filters">
                    <input type="text" id="route-filter" placeholder="–ü–æ–∏—Å–∫ –ø–æ –º–∞—Ä—à—Ä—É—Ç—É..." oninput="filterRides()">
                    <input type="time" id="time-filter" onchange="filterRides()">
                </div>

                <div id="rides-list" class="rides-list">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–µ–∑–¥–æ–∫...</div>
                </div>
            </div>

            <div id="booked-rides-tab" class="tab-content">
                <div id="booked-rides-list" class="rides-list">
                    <div class="empty-state">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Å—Ç</div>
                </div>
            </div>
        </div>



        <!-- –≠–∫—Ä–∞–Ω –≤–æ–¥–∏—Ç–µ–ª—è: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏ -->
        <div id="driver-screen" class="screen">
            <div class="header">
                <button class="back-btn" onclick="showScreen('role-selection')">‚Üê</button>
                <h2>–°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É</h2>
            </div>

            <form id="ride-form" class="ride-form" onsubmit="createRide(event)">
                <div class="form-group">
                    <label for="driver-name">–í–∞—à–µ –∏–º—è</label>
                    <input type="text" id="driver-name" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ò–≤–∞–Ω">
                </div>

                <div class="form-group">
                    <label for="route">–ú–∞—Ä—à—Ä—É—Ç</label>
                    <input type="text" id="route" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –û–±—â–µ–∂–∏—Ç–∏–µ –ù–í–ö ‚Üí –ì–£–ö, –∫–æ—Ä–ø—É—Å 5">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="departure-time">–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è</label>
                        <input type="time" id="departure-time" required>
                    </div>
                    <div class="form-group">
                        <label for="seats">–ú–µ—Å—Ç</label>
                        <input type="number" id="seats" min="1" max="8" value="3" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="price">–°—Ç–æ–∏–º–æ—Å—Ç—å (‚ÇΩ)</label>
                    <input type="number" id="price" value="150" required>
                </div>

                <div class="form-group">
                    <label for="car-info">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—à–∏–Ω–µ</label>
                    <input type="text" id="car-info" placeholder="–ú–∞—Ä–∫–∞ –∏ —Ü–≤–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä: Toyota Camry, —á–µ—Ä–Ω–∞—è">
                </div>

                <div class="form-group">
                    <label for="car-number">–ù–æ–º–µ—Ä –º–∞—à–∏–Ω—ã</label>
                    <input type="text" id="car-number" placeholder="–ê123–ë–í 777">
                </div>

                <div class="form-group">
                    <label for="telegram-username">–í–∞—à Telegram (–¥–ª—è —Å–≤—è–∑–∏)</label>
                    <input type="text" id="telegram-username" placeholder="@username" required>
                </div>

                <div class="form-group">
                    <label for="car-photo">–§–æ—Ç–æ –º–∞—à–∏–Ω—ã (–ø–æ –∂–µ–ª–∞–Ω–∏—é)</label>
                    <input type="file" id="car-photo" accept="image/*">
                    <div id="photo-preview" style="margin-top: 10px;"></div>
                </div>

                <div class="form-group">
                    <label for="description">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</label>
                    <textarea id="description" rows="3" placeholder="–ú–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏, –æ—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è..."></textarea>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="show-location">
                        –ü–æ–∫–∞–∑–∞—Ç—å –º–æ—é –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é
                    </label>
                </div>

                <button type="submit" class="submit-btn" id="create-ride-btn">–°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É</button>
            </form>

            <div class="driver-rides-section">
                <h3>–ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏</h3>
                <div id="driver-rides-list">
                    <div class="empty-state">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫</div>
                </div>
            </div>
        </div>

        <!-- –î–µ—Ç–∞–ª–∏ –ø–æ–µ–∑–¥–∫–∏ (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ) -->
        <div id="ride-details-modal" class="modal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal()">‚úï</button>
                <div id="ride-details-content">
                    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>
